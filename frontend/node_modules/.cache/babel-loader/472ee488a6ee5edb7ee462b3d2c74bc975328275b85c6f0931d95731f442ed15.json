{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\eira01-uine-w\\\\frontend\\\\src\\\\components\\\\Sidebar.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { FiPlus, FiEdit2, FiTrash2, FiCheck, FiX, FiMessageSquare } from \"react-icons/fi\";\nimport \"./Sidebar.css\";\n\n// Export the Sidebar component before defining it\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Sidebar = ({\n  onNewSession,\n  onSelectSession,\n  className = \"\",\n  onSessionDeleted\n}) => {\n  _s();\n  const [sessions, setSessions] = useState([]);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [editingSessionId, setEditingSessionId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n  useEffect(() => {\n    // Get user info from localStorage\n    const email = localStorage.getItem(\"userEmail\") || \"\";\n    setUserEmail(email);\n    if (email) {\n      loadUserSessions(email);\n    }\n  }, []);\n  const loadUserSessions = async email => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/sessions/list?email=${email}`);\n      if (res.ok) {\n        const data = await res.json();\n        setSessions(data);\n      }\n    } catch (err) {\n      console.error(\"Failed to load sessions:\", err);\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffTime = Math.abs(now - date);\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n    if (diffDays === 0) {\n      return \"Today\";\n    } else if (diffDays === 1) {\n      return \"Yesterday\";\n    } else if (diffDays < 7) {\n      return `${diffDays} days ago`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n  const handleEditSession = (sessionId, currentTitle) => {\n    setEditingSessionId(sessionId);\n    setEditingTitle(currentTitle);\n  };\n  const handleSaveEdit = async sessionId => {\n    if (!editingTitle.trim()) return;\n    try {\n      const res = await fetch(\"http://localhost:5000/api/sessions/rename\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          sessionId,\n          newTitle: editingTitle.trim()\n        })\n      });\n      if (res.ok) {\n        // Update the local sessions list\n        setSessions(sessions.map(session => session.id === sessionId ? {\n          ...session,\n          title: editingTitle.trim()\n        } : session));\n        setEditingSessionId(null);\n        setEditingTitle(\"\");\n      }\n    } catch (err) {\n      console.error(\"Failed to rename session:\", err);\n    }\n  };\n  const handleCancelEdit = () => {\n    setEditingSessionId(null);\n    setEditingTitle(\"\");\n  };\n  const handleDeleteSession = async sessionId => {\n    if (!window.confirm(\"Are you sure you want to delete this chat? This action cannot be undone.\")) {\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:5000/api/sessions/${sessionId}`, {\n        method: \"DELETE\"\n      });\n      if (res.ok) {\n        // Remove the session from local state\n        setSessions(sessions.filter(session => session.id !== sessionId));\n\n        // Check if this was the current session\n        const currentSessionId = localStorage.getItem(\"lastSessionId\");\n        if (currentSessionId === sessionId.toString()) {\n          localStorage.removeItem(\"lastSessionId\");\n          // Call the callback to clear the current chat\n          if (onSessionDeleted) {\n            onSessionDeleted();\n          }\n        }\n      }\n    } catch (err) {\n      console.error(\"Failed to delete session:\", err);\n    }\n  };\n  const refreshSessions = () => {\n    if (userEmail) {\n      loadUserSessions(userEmail);\n    }\n  };\n\n  // Expose refresh function globally for the main app to call\n  useEffect(() => {\n    window.refreshSidebar = refreshSessions;\n    return () => {\n      delete window.refreshSidebar;\n    };\n  }, [userEmail]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `sidebar ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-header\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onNewSession,\n        className: \"new-session-btn\",\n        children: [/*#__PURE__*/_jsxDEV(FiPlus, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sessions-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sessions-header\",\n        children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Chat History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), sessions.length > 0 ? sessions.map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-item\",\n        children: editingSessionId === session.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-edit-mode\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingTitle,\n            onChange: e => setEditingTitle(e.target.value),\n            className: \"session-edit-input\",\n            onKeyDown: e => {\n              if (e.key === \"Enter\") handleSaveEdit(session.id);\n              if (e.key === \"Escape\") handleCancelEdit();\n            },\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-edit-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSaveEdit(session.id),\n              className: \"session-action-btn save-btn\",\n              title: \"Save\",\n              children: /*#__PURE__*/_jsxDEV(FiCheck, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCancelEdit,\n              className: \"session-action-btn cancel-btn\",\n              title: \"Cancel\",\n              children: /*#__PURE__*/_jsxDEV(FiX, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-content\",\n          onClick: () => onSelectSession(session.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-title\",\n              children: session.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-date\",\n              children: formatDate(session.created_at)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                handleEditSession(session.id, session.title);\n              },\n              className: \"session-action-btn edit-btn\",\n              title: \"Edit name\",\n              children: /*#__PURE__*/_jsxDEV(FiEdit2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                handleDeleteSession(session.id);\n              },\n              className: \"session-action-btn delete-btn\",\n              title: \"Delete chat\",\n              children: /*#__PURE__*/_jsxDEV(FiTrash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }, this)\n      }, session.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-sessions\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No chats yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Start a new conversation to begin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n\n// Export the component at the end\n_s(Sidebar, \"79b6Pu+1tK67KnbVNAEDgC6WwWM=\");\n_c = Sidebar;\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","FiPlus","FiEdit2","FiTrash2","FiCheck","FiX","FiMessageSquare","jsxDEV","_jsxDEV","Sidebar","onNewSession","onSelectSession","className","onSessionDeleted","sessions","setSessions","userEmail","setUserEmail","editingSessionId","setEditingSessionId","editingTitle","setEditingTitle","email","localStorage","getItem","loadUserSessions","res","fetch","ok","data","json","err","console","error","formatDate","dateString","date","Date","now","diffTime","Math","abs","diffDays","floor","toLocaleDateString","handleEditSession","sessionId","currentTitle","handleSaveEdit","trim","method","headers","body","JSON","stringify","newTitle","map","session","id","title","handleCancelEdit","handleDeleteSession","window","confirm","filter","currentSessionId","toString","removeItem","refreshSessions","refreshSidebar","children","onClick","size","fileName","lineNumber","columnNumber","length","type","value","onChange","e","target","onKeyDown","key","autoFocus","created_at","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/eira01-uine-w/frontend/src/components/Sidebar.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { FiPlus, FiEdit2, FiTrash2, FiCheck, FiX, FiMessageSquare } from \"react-icons/fi\"\nimport \"./Sidebar.css\"\n\n// Export the Sidebar component before defining it\nconst Sidebar = ({ onNewSession, onSelectSession, className = \"\", onSessionDeleted }) => {\n  const [sessions, setSessions] = useState([])\n  const [userEmail, setUserEmail] = useState(\"\")\n  const [editingSessionId, setEditingSessionId] = useState(null)\n  const [editingTitle, setEditingTitle] = useState(\"\")\n\n  useEffect(() => {\n    // Get user info from localStorage\n    const email = localStorage.getItem(\"userEmail\") || \"\"\n    setUserEmail(email)\n\n    if (email) {\n      loadUserSessions(email)\n    }\n  }, [])\n\n  const loadUserSessions = async (email) => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/sessions/list?email=${email}`)\n      if (res.ok) {\n        const data = await res.json()\n        setSessions(data)\n      }\n    } catch (err) {\n      console.error(\"Failed to load sessions:\", err)\n    }\n  }\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffTime = Math.abs(now - date)\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\n\n    if (diffDays === 0) {\n      return \"Today\"\n    } else if (diffDays === 1) {\n      return \"Yesterday\"\n    } else if (diffDays < 7) {\n      return `${diffDays} days ago`\n    } else {\n      return date.toLocaleDateString()\n    }\n  }\n\n  const handleEditSession = (sessionId, currentTitle) => {\n    setEditingSessionId(sessionId)\n    setEditingTitle(currentTitle)\n  }\n\n  const handleSaveEdit = async (sessionId) => {\n    if (!editingTitle.trim()) return\n\n    try {\n      const res = await fetch(\"http://localhost:5000/api/sessions/rename\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ sessionId, newTitle: editingTitle.trim() }),\n      })\n\n      if (res.ok) {\n        // Update the local sessions list\n        setSessions(\n          sessions.map((session) => (session.id === sessionId ? { ...session, title: editingTitle.trim() } : session)),\n        )\n        setEditingSessionId(null)\n        setEditingTitle(\"\")\n      }\n    } catch (err) {\n      console.error(\"Failed to rename session:\", err)\n    }\n  }\n\n  const handleCancelEdit = () => {\n    setEditingSessionId(null)\n    setEditingTitle(\"\")\n  }\n\n  const handleDeleteSession = async (sessionId) => {\n    if (!window.confirm(\"Are you sure you want to delete this chat? This action cannot be undone.\")) {\n      return\n    }\n\n    try {\n      const res = await fetch(`http://localhost:5000/api/sessions/${sessionId}`, {\n        method: \"DELETE\",\n      })\n\n      if (res.ok) {\n        // Remove the session from local state\n        setSessions(sessions.filter((session) => session.id !== sessionId))\n\n        // Check if this was the current session\n        const currentSessionId = localStorage.getItem(\"lastSessionId\")\n        if (currentSessionId === sessionId.toString()) {\n          localStorage.removeItem(\"lastSessionId\")\n          // Call the callback to clear the current chat\n          if (onSessionDeleted) {\n            onSessionDeleted()\n          }\n        }\n      }\n    } catch (err) {\n      console.error(\"Failed to delete session:\", err)\n    }\n  }\n\n  const refreshSessions = () => {\n    if (userEmail) {\n      loadUserSessions(userEmail)\n    }\n  }\n\n  // Expose refresh function globally for the main app to call\n  useEffect(() => {\n    window.refreshSidebar = refreshSessions\n    return () => {\n      delete window.refreshSidebar\n    }\n  }, [userEmail])\n\n  return (\n    <div className={`sidebar ${className}`}>\n      {/* New Session Button */}\n      <div className=\"sidebar-header\">\n        <button onClick={onNewSession} className=\"new-session-btn\">\n          <FiPlus size={18} />\n          <span>New Chat</span>\n        </button>\n      </div>\n\n      {/* Sessions List */}\n      <div className=\"sessions-list\">\n        <div className=\"sessions-header\">\n          <FiMessageSquare size={16} />\n          <h3>Chat History</h3>\n        </div>\n        {sessions.length > 0 ? (\n          sessions.map((session) => (\n            <div key={session.id} className=\"session-item\">\n              {editingSessionId === session.id ? (\n                <div className=\"session-edit-mode\">\n                  <input\n                    type=\"text\"\n                    value={editingTitle}\n                    onChange={(e) => setEditingTitle(e.target.value)}\n                    className=\"session-edit-input\"\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\") handleSaveEdit(session.id)\n                      if (e.key === \"Escape\") handleCancelEdit()\n                    }}\n                    autoFocus\n                  />\n                  <div className=\"session-edit-actions\">\n                    <button\n                      onClick={() => handleSaveEdit(session.id)}\n                      className=\"session-action-btn save-btn\"\n                      title=\"Save\"\n                    >\n                      <FiCheck size={14} />\n                    </button>\n                    <button onClick={handleCancelEdit} className=\"session-action-btn cancel-btn\" title=\"Cancel\">\n                      <FiX size={14} />\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"session-content\" onClick={() => onSelectSession(session.id)}>\n                  <div className=\"session-info\">\n                    <div className=\"session-title\">{session.title}</div>\n                    <div className=\"session-date\">{formatDate(session.created_at)}</div>\n                  </div>\n                  <div className=\"session-actions\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        handleEditSession(session.id, session.title)\n                      }}\n                      className=\"session-action-btn edit-btn\"\n                      title=\"Edit name\"\n                    >\n                      <FiEdit2 size={14} />\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        handleDeleteSession(session.id)\n                      }}\n                      className=\"session-action-btn delete-btn\"\n                      title=\"Delete chat\"\n                    >\n                      <FiTrash2 size={14} />\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))\n        ) : (\n          <div className=\"no-sessions\">\n            <p>No chats yet</p>\n            <p>Start a new conversation to begin</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// Export the component at the end\nexport default Sidebar\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}