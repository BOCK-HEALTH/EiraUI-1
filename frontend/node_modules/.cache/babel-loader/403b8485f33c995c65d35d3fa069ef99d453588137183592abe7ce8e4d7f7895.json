{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\eira01-uine-w\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport logo from \"./Eira Text2-01.svg\";\nimport { FiVideo, FiMic, FiPlus, FiFile, FiImage, FiFileText, FiMusic, FiX, FiDownload, FiMenu } from \"react-icons/fi\";\nimport Sidebar from \"./components/Sidebar\";\nimport UserMenu from \"./components/UserMenu\";\n\n// Update the App component to properly handle sidebar state\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // Keep all existing state variables\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [isRecordingAudio, setIsRecordingAudio] = useState(false);\n  const messagesEndRef = useRef(null);\n  const audioRef = useRef(null);\n  const [showVideoModal, setShowVideoModal] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [recordedVideo, setRecordedVideo] = useState(null);\n  const [videoReadyToSend, setVideoReadyToSend] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const email = localStorage.getItem(\"userEmail\");\n  const [hasActiveChat, setHasActiveChat] = useState(false);\n  const [videoStream, setVideoStream] = useState(null);\n  const videoRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const recordedChunksRef = useRef([]);\n  const fileInputRef = useRef(null);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [filesReadyToSend, setFilesReadyToSend] = useState(false);\n  const [audioRecording, setAudioRecording] = useState(null);\n  const [videoRecording, setVideoRecording] = useState(null);\n  const mediaRecorderAudioRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const [audioStream, setAudioStream] = useState(null);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const [currentFile, setCurrentFile] = useState(null);\n  const [fileViewerType, setFileViewerType] = useState(null);\n  const [fileDataStore, setFileDataStore] = useState(new Map());\n  const [showSidebar, setShowSidebar] = useState(false); // New state for sidebar visibility\n\n  const createNewSession = async () => {\n    const title = prompt(\"Title for new session?\") || \"Untitled\";\n    try {\n      const res = await fetch(\"http://localhost:5000/api/sessions/create\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          title\n        })\n      });\n      const data = await res.json();\n      if (res.ok && data.id) {\n        setSessionId(data.id);\n        setMessages([]);\n        setHasActiveChat(true);\n        localStorage.setItem(\"lastSessionId\", data.id);\n\n        // Trigger sidebar refresh by calling a callback if provided\n        if (window.refreshSidebar) {\n          window.refreshSidebar();\n        }\n        return data.id;\n      }\n    } catch (err) {\n      console.error(\"Session creation failed:\", err);\n    }\n    return null;\n  };\n  const loadSessionMessages = async id => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/chat/history?session_id=${id}`);\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch session messages\");\n      }\n      const data = await res.json();\n\n      // Map the backend response format to frontend format\n      const formattedMessages = data.map(msg => ({\n        sender: msg.sender,\n        text: msg.message,\n        // Backend returns 'message', frontend expects 'text'\n        timestamp: msg.created_at\n      }));\n      setMessages(formattedMessages);\n      setSessionId(id);\n      setHasActiveChat(true);\n      localStorage.setItem(\"lastSessionId\", id);\n    } catch (err) {\n      console.error(\"Failed to load session messages:\", err);\n      // Set empty messages array to avoid showing previous chat data\n      setMessages([]);\n    }\n  };\n  const startRecording = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true\n    });\n    setVideoStream(stream);\n    recordedChunksRef.current = [];\n    if (videoRef.current) {\n      videoRef.current.srcObject = stream;\n    }\n    const mediaRecorder = new MediaRecorder(stream, {\n      mimeType: \"video/webm\"\n    });\n    mediaRecorderRef.current = mediaRecorder;\n    mediaRecorder.ondataavailable = e => {\n      if (e.data.size > 0) recordedChunksRef.current.push(e.data);\n    };\n    mediaRecorder.onstop = () => {\n      const blob = new Blob(recordedChunksRef.current, {\n        type: \"video/webm\"\n      });\n      const videoFile = new File([blob], \"video-recording.webm\", {\n        type: \"video/webm\"\n      });\n      setVideoRecording(videoFile);\n      setFilesReadyToSend(true);\n      setShowVideoModal(false);\n      stream.getTracks().forEach(track => track.stop());\n    };\n    mediaRecorder.start();\n    setRecording(true);\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop();\n      setRecording(false);\n    }\n  };\n  const handleFileUpload = event => {\n    const files = Array.from(event.target.files);\n    if (files.length > 0) {\n      // Store file data for later viewing\n      files.forEach(file => {\n        const fileUrl = URL.createObjectURL(file);\n        setFileDataStore(prev => new Map(prev.set(file.name, {\n          file,\n          url: fileUrl,\n          type: file.type\n        })));\n      });\n      setUploadedFiles(prevFiles => [...prevFiles, ...files]);\n      setFilesReadyToSend(true);\n    }\n  };\n  const handlePlusClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const removeFile = (index, type = \"file\") => {\n    if (type === \"audio\") {\n      setAudioRecording(null);\n    } else if (type === \"video\") {\n      setVideoRecording(null);\n    } else {\n      const fileToRemove = uploadedFiles[index];\n      if (fileToRemove) {\n        // Clean up file URL\n        const fileData = fileDataStore.get(fileToRemove.name);\n        if (fileData !== null && fileData !== void 0 && fileData.url) {\n          URL.revokeObjectURL(fileData.url);\n        }\n        setFileDataStore(prev => {\n          const newMap = new Map(prev);\n          newMap.delete(fileToRemove.name);\n          return newMap;\n        });\n      }\n      setUploadedFiles(prev => prev.filter((_, i) => i !== index));\n    }\n\n    // Check if any items remain\n    const remainingFiles = uploadedFiles.filter((_, i) => i !== index);\n    if (remainingFiles.length === 0 && !audioRecording && !videoRecording) {\n      setFilesReadyToSend(false);\n    }\n  };\n  const sendVideoMessage = async () => {\n    if (!recordedVideo) return;\n    let sid = sessionId;\n    if (!sid) {\n      sid = await createNewSession();\n      if (!sid) return;\n    }\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: \"[ðŸ“¹ Video sent]\",\n      isVideo: true\n    }]);\n    setIsTyping(true);\n    setShowVideoModal(false);\n    const formData = new FormData();\n    formData.append(\"video\", recordedVideo.blob, \"recorded-video.webm\");\n    try {\n      const res = await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          session_id: sessionId,\n          message: \"Video message sent\",\n          sender: \"user\"\n        })\n      });\n      const data = await res.json();\n      setIsTyping(false);\n      setMessages(prev => [...prev, {\n        sender: \"eira\",\n        text: data.text || \"ðŸŽ¥ Video response\"\n      }]);\n      if (data.audio) {\n        const audioUrl = `data:audio/mpeg;base64,${data.audio}`;\n        if (audioRef.current) {\n          audioRef.current.pause();\n          audioRef.current.currentTime = 0;\n        }\n        audioRef.current = new Audio(audioUrl);\n        audioRef.current.play().catch(console.error);\n      }\n    } catch (err) {\n      setIsTyping(false);\n      setMessages(prev => [...prev, {\n        sender: \"eira\",\n        text: \"âš ï¸ Video upload failed\"\n      }]);\n    }\n    setRecordedVideo(null);\n    setVideoReadyToSend(false);\n  };\n  const sendFilesMessage = async () => {\n    if (uploadedFiles.length === 0) return;\n    let sid = sessionId;\n    if (!sid) {\n      sid = await createNewSession();\n      if (!sid) return;\n    }\n    const fileNames = uploadedFiles.map(file => file.name).join(\", \");\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: `ðŸ“„ Files uploaded: ${fileNames}`\n    }]);\n    setIsTyping(true);\n    const formData = new FormData();\n    uploadedFiles.forEach((file, index) => {\n      formData.append(`file_${index}`, file);\n    });\n    try {\n      const res = await fetch(\"http://localhost:5000/api/chat/upload-files\", {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await res.json();\n      setIsTyping(false);\n      setMessages(prev => [...prev, {\n        sender: \"eira\",\n        text: data.text || \"ðŸ“„ Files processed successfully\"\n      }]);\n\n      // Save message to database\n      await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: `Files uploaded: ${fileNames}`,\n          sender: \"user\"\n        })\n      });\n    } catch (err) {\n      setIsTyping(false);\n      setMessages(prev => [...prev, {\n        sender: \"eira\",\n        text: \"âš ï¸ File upload failed\"\n      }]);\n    }\n    setUploadedFiles([]);\n    setFilesReadyToSend(false);\n  };\n  const handleVideoClick = () => setShowVideoModal(true);\n  const closeVideoModal = () => {\n    if (videoStream) {\n      videoStream.getTracks().forEach(track => track.stop());\n    }\n    setShowVideoModal(false);\n  };\n  const startAudioRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      setAudioStream(stream);\n      audioChunksRef.current = [];\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderAudioRef.current = mediaRecorder;\n      mediaRecorder.ondataavailable = e => {\n        if (e.data.size > 0) audioChunksRef.current.push(e.data);\n      };\n      mediaRecorder.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\"\n        });\n        const audioFile = new File([blob], \"voice-recording.webm\", {\n          type: \"audio/webm\"\n        });\n\n        // Store audio recording data\n        const audioUrl = URL.createObjectURL(blob);\n        setFileDataStore(prev => new Map(prev.set(\"Voice Recording\", {\n          file: audioFile,\n          url: audioUrl,\n          type: \"audio/webm\"\n        })));\n        setAudioRecording(audioFile);\n        setFilesReadyToSend(true);\n        stream.getTracks().forEach(track => track.stop());\n        setAudioStream(null);\n      };\n      mediaRecorder.start();\n      setIsRecordingAudio(true);\n    } catch (err) {\n      console.error(\"Error starting audio recording:\", err);\n      alert(\"Could not access microphone. Please check your permissions.\");\n    }\n  };\n  const stopAudioRecording = () => {\n    if (mediaRecorderAudioRef.current && mediaRecorderAudioRef.current.state === \"recording\") {\n      mediaRecorderAudioRef.current.stop();\n      setIsRecordingAudio(false);\n    }\n  };\n  const toggleVoiceInput = () => {\n    if (isRecordingAudio) {\n      stopAudioRecording();\n    } else {\n      startAudioRecording();\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const getAllUploadedItems = () => {\n    const items = [...uploadedFiles];\n    if (audioRecording) items.push(audioRecording);\n    if (videoRecording) items.push(videoRecording);\n    return items;\n  };\n  const getFileIcon = file => {\n    var _file$type, _file$type2, _file$type3, _file$type4;\n    if (file.name.includes(\"voice-recording\")) return /*#__PURE__*/_jsxDEV(FiMic, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 55\n    }, this);\n    if (file.name.includes(\"video-recording\")) return /*#__PURE__*/_jsxDEV(FiVideo, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 55\n    }, this);\n    if ((_file$type = file.type) !== null && _file$type !== void 0 && _file$type.startsWith(\"image/\")) return /*#__PURE__*/_jsxDEV(FiImage, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 49\n    }, this);\n    if ((_file$type2 = file.type) !== null && _file$type2 !== void 0 && _file$type2.startsWith(\"audio/\")) return /*#__PURE__*/_jsxDEV(FiMusic, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 49\n    }, this);\n    if ((_file$type3 = file.type) !== null && _file$type3 !== void 0 && _file$type3.includes(\"pdf\") || (_file$type4 = file.type) !== null && _file$type4 !== void 0 && _file$type4.includes(\"document\")) return /*#__PURE__*/_jsxDEV(FiFileText, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 79\n    }, this);\n    return /*#__PURE__*/_jsxDEV(FiFile, {\n      className: \"file-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 12\n    }, this);\n  };\n  const getFileName = file => {\n    if (file.name.includes(\"voice-recording\")) return \"Voice Recording\";\n    if (file.name.includes(\"video-recording\")) return \"Video Recording\";\n    return file.name;\n  };\n  const getFileIconForMessage = fileName => {\n    if (fileName.includes(\"Voice Recording\")) return /*#__PURE__*/_jsxDEV(FiMic, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 54\n    }, this);\n    if (fileName.includes(\"Video Recording\")) return /*#__PURE__*/_jsxDEV(FiVideo, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 54\n    }, this);\n    if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i)) return /*#__PURE__*/_jsxDEV(FiImage, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 67\n    }, this);\n    if (fileName.match(/\\.(mp3|wav|ogg|m4a|webm)$/i)) return /*#__PURE__*/_jsxDEV(FiMusic, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 62\n    }, this);\n    if (fileName.match(/\\.(pdf|doc|docx|txt)$/i)) return /*#__PURE__*/_jsxDEV(FiFileText, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 58\n    }, this);\n    return /*#__PURE__*/_jsxDEV(FiFile, {\n      className: \"attachment-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 12\n    }, this);\n  };\n  const parseMessageWithAttachments = messageText => {\n    // Check if message contains attachments\n    const attachmentMatch = messageText.match(/Attachments:\\s*(.+)$/s);\n    if (!attachmentMatch) {\n      return {\n        text: messageText,\n        attachments: []\n      };\n    }\n    const textPart = messageText.replace(/\\n\\nAttachments:\\s*(.+)$/s, \"\").trim();\n    const attachmentsPart = attachmentMatch[1];\n\n    // Parse individual attachments\n    const attachments = attachmentsPart.split(\", \").map(item => {\n      const cleanItem = item.trim().replace(/^[ðŸŽ¤ðŸ“¹ðŸ“„]\\s*/u, \"\");\n      return cleanItem;\n    });\n    return {\n      text: textPart,\n      attachments\n    };\n  };\n  const getFileType = fileName => {\n    if (fileName.includes(\"Voice Recording\")) return \"audio\";\n    if (fileName.includes(\"Video Recording\")) return \"video\";\n    if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i)) return \"image\";\n    if (fileName.match(/\\.(mp3|wav|ogg|m4a|webm)$/i)) return \"audio\";\n    if (fileName.match(/\\.(mp4|avi|mov|wmv|flv|webm)$/i)) return \"video\";\n    if (fileName.match(/\\.(pdf)$/i)) return \"pdf\";\n    if (fileName.match(/\\.(txt|md|json|xml|csv)$/i)) return \"text\";\n    return \"file\";\n  };\n  const handleAttachmentClick = fileName => {\n    const fileData = fileDataStore.get(fileName);\n    if (fileData) {\n      setCurrentFile({\n        name: fileName,\n        ...fileData\n      });\n      setFileViewerType(getFileType(fileName));\n      setShowFileViewer(true);\n    } else {\n      // If file data not found, try to download or show error\n      console.warn(\"File data not found for:\", fileName);\n      alert(\"File preview not available. The file may have been uploaded in a previous session.\");\n    }\n  };\n  const closeFileViewer = () => {\n    setShowFileViewer(false);\n    setCurrentFile(null);\n    setFileViewerType(null);\n  };\n  const downloadFile = () => {\n    if (currentFile) {\n      const link = document.createElement(\"a\");\n      link.href = currentFile.url;\n      link.download = currentFile.name;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n  const sendMessage = async () => {\n    const allItems = getAllUploadedItems();\n    if (!input.trim() && allItems.length === 0) return;\n    let sid = sessionId;\n    if (!sid) {\n      sid = await createNewSession();\n      if (!sid) return;\n    }\n    setIsTyping(true);\n    const userInput = input;\n    setInput(\"\");\n\n    // Store video recording data if exists\n    if (videoRecording) {\n      const videoUrl = URL.createObjectURL(videoRecording);\n      setFileDataStore(prev => new Map(prev.set(\"Video Recording\", {\n        file: videoRecording,\n        url: videoUrl,\n        type: videoRecording.type\n      })));\n    }\n\n    // Create message content\n    let messageContent = userInput;\n    if (allItems.length > 0) {\n      const itemNames = allItems.map(item => {\n        if (item.name.includes(\"voice-recording\")) return \"Voice Recording\";\n        if (item.name.includes(\"video-recording\")) return \"Video Recording\";\n        return item.name;\n      }).join(\", \");\n      messageContent = userInput ? `${userInput}\\n\\nAttachments: ${itemNames}` : `Attachments: ${itemNames}`;\n    }\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: messageContent\n    }]);\n    try {\n      // Handle file uploads if any\n      if (allItems.length > 0) {\n        const formData = new FormData();\n        allItems.forEach((item, index) => {\n          formData.append(`file_${index}`, item);\n        });\n\n        // Send files first\n        await fetch(\"http://localhost:5000/api/chat/upload-files\", {\n          method: \"POST\",\n          body: formData\n        });\n      }\n\n      // Send text message\n      const response = await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: messageContent,\n          sender: \"user\"\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || \"API request failed\");\n      }\n      const data = await response.json();\n      const botMessage = {\n        sender: \"eira\",\n        text: data.text || \"ðŸ”Š Response received\"\n      };\n      setIsTyping(false);\n      setMessages(prev => [...prev, botMessage]);\n      setHasActiveChat(true);\n\n      // Save bot response\n      await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: botMessage.text,\n          sender: \"eira\"\n        })\n      });\n      if (data.audio) {\n        const audioUrl = `data:audio/mpeg;base64,${data.audio}`;\n        if (audioRef.current) {\n          audioRef.current.pause();\n          audioRef.current.currentTime = 0;\n        }\n        audioRef.current = new Audio(audioUrl);\n        audioRef.current.play().catch(error => {\n          console.error(\"Audio playback failed:\", error);\n        });\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      setIsTyping(false);\n      setMessages(prev => [...prev, {\n        sender: \"eira\",\n        text: \"âš ï¸ Error: \" + error.message\n      }]);\n    }\n\n    // Clear all uploaded items\n    setUploadedFiles([]);\n    setAudioRecording(null);\n    setVideoRecording(null);\n    setFilesReadyToSend(false);\n    setVideoReadyToSend(false);\n  };\n  useEffect(() => {\n    const lastSession = localStorage.getItem(\"lastSessionId\");\n    if (lastSession && email) {\n      loadSessionMessages(lastSession);\n    }\n  }, [email]);\n\n  // Cleanup audio stream on component unmount\n  useEffect(() => {\n    return () => {\n      if (audioStream) {\n        audioStream.getTracks().forEach(track => track.stop());\n      }\n      // Cleanup file URLs\n      fileDataStore.forEach(fileData => {\n        if (fileData.url) {\n          URL.revokeObjectURL(fileData.url);\n        }\n      });\n    };\n  }, [audioStream]);\n\n  // Add this useEffect after the existing useEffects, around line 200\n  useEffect(() => {\n    // Add or remove class to body based on sidebar state\n    if (showSidebar) {\n      document.body.classList.add(\"sidebar-open\");\n    } else {\n      document.body.classList.remove(\"sidebar-open\");\n    }\n\n    // Cleanup on unmount\n    return () => {\n      document.body.classList.remove(\"sidebar-open\");\n    };\n  }, [showSidebar]);\n\n  // Update the return statement to include the new header layout\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-layout ${showSidebar ? \"sidebar-is-open\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sidebar-toggle-btn\",\n        onClick: () => setShowSidebar(!showSidebar),\n        children: /*#__PURE__*/_jsxDEV(FiMenu, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      onNewSession: createNewSession,\n      onSelectSession: loadSessionMessages,\n      className: showSidebar ? \"open\" : \"collapsed\",\n      onSessionDeleted: () => {\n        // Clear current chat if the deleted session was active\n        const currentSessionId = localStorage.getItem(\"lastSessionId\");\n        if (!currentSessionId) {\n          setMessages([]);\n          setHasActiveChat(false);\n          setSessionId(null);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `app-container ${!showSidebar ? \"sidebar-collapsed\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: !hasActiveChat || messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-container\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: logo || \"/placeholder.svg\",\n                alt: \"Eira Logo\",\n                className: \"welcome-logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"subtitle\",\n              children: \"Eira - Your AI Health Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"capabilities\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-icon\",\n                  children: \"\\uD83C\\uDFE5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 633,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-title\",\n                  children: \"Medical Assistance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-desc\",\n                  children: \"Get reliable medical information and health guidance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-icon\",\n                  children: \"\\uD83D\\uDC8A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-title\",\n                  children: \"Medication Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-desc\",\n                  children: \"Learn about medications, dosages, and potential interactions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-icon\",\n                  children: \"\\uD83E\\uDDEC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-title\",\n                  children: \"Health Analysis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-desc\",\n                  children: \"Understand symptoms and get preliminary health insights\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capability\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-icon\",\n                  children: \"\\u2764\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-title\",\n                  children: \"Wellness Tips\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"capability-desc\",\n                  children: \"Receive personalized wellness and lifestyle recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-flow\",\n          children: [messages.map((msg, i) => {\n            const {\n              text,\n              attachments\n            } = parseMessageWithAttachments(msg.text);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message-wrapper ${msg.sender}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-container\",\n                children: [msg.sender === \"eira\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-avatar eira\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"health.png\",\n                    alt: \"Eira\",\n                    className: \"avatar-logo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-avatar user\",\n                  children: \"U\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message-sender ${msg.sender}`,\n                    children: msg.sender === \"user\" ? \"You\" : \"Eira 0.1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 25\n                  }, this), text && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message ${msg.sender}`,\n                    children: text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 34\n                  }, this), attachments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-attachments\",\n                    children: attachments.map((attachment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"attachment-item\",\n                      onClick: () => handleAttachmentClick(attachment),\n                      children: [getFileIconForMessage(attachment), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"attachment-name\",\n                        children: attachment\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 691,\n                        columnNumber: 33\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 683,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 21\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 19\n            }, this);\n          }), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-wrapper eira\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar eira\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"health.png\",\n                  alt: \"Eira\",\n                  className: \"avatar-logo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-sender eira\",\n                  children: \"Eira 0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message eira typing\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"typing-indicator\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 712,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 714,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `gemini-input-container`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `input-wrapper-gemini ${getAllUploadedItems().length > 0 ? \"has-files\" : \"\"}`,\n          children: [getAllUploadedItems().length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-chips-container\",\n            children: [uploadedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-chip-inline\",\n              children: [getFileIcon(file), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-name-inline\",\n                children: getFileName(file)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"remove-file-btn-inline\",\n                onClick: () => removeFile(index, \"file\"),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 21\n              }, this)]\n            }, `file-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 19\n            }, this)), audioRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-chip-inline\",\n              children: [/*#__PURE__*/_jsxDEV(FiMic, {\n                className: \"file-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-name-inline\",\n                children: \"Voice Recording\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"remove-file-btn-inline\",\n                onClick: () => removeFile(0, \"audio\"),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 19\n            }, this), videoRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-chip-inline\",\n              children: [/*#__PURE__*/_jsxDEV(FiVideo, {\n                className: \"file-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-name-inline\",\n                children: \"Video Recording\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"remove-file-btn-inline\",\n                onClick: () => removeFile(0, \"video\"),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: input,\n              onChange: e => setInput(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && sendMessage(),\n              placeholder: \"Start typing a prompt\",\n              className: \"message-input-gemini\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePlusClick,\n                className: \"action-button plus-button\",\n                title: \"Upload files\",\n                children: /*#__PURE__*/_jsxDEV(FiPlus, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: sendMessage,\n                className: \"send-button-gemini\",\n                disabled: !input.trim() && getAllUploadedItems().length === 0,\n                title: \"Send message\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M22 2L11 13\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 785,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M22 2L15 22L11 13L2 9L22 2Z\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 784,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleVoiceInput,\n            className: `action-button-large ${isRecordingAudio ? \"listening\" : \"\"}`,\n            title: isRecordingAudio ? \"Stop Recording\" : \"Start Voice Recording\",\n            children: [/*#__PURE__*/_jsxDEV(FiMic, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isRecordingAudio ? \"Stop Recording\" : \"Talk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVideoClick,\n            className: \"action-button-large\",\n            title: \"Webcam\",\n            children: [/*#__PURE__*/_jsxDEV(FiVideo, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Webcam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      onChange: handleFileUpload,\n      multiple: true,\n      accept: \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.mp4,.mp3,.wav\",\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 7\n    }, this), showVideoModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-modal\",\n        children: [recordedVideo ? /*#__PURE__*/_jsxDEV(\"video\", {\n          className: \"recorded-playback\",\n          src: recordedVideo.url,\n          controls: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          className: \"video-preview\",\n          autoPlay: true,\n          muted: true,\n          playsInline: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls\",\n          children: !recordedVideo ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [!recording ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"record-btn\",\n              onClick: startRecording,\n              children: \"Start Recording\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"record-btn recording\",\n              onClick: stopRecording,\n              children: \"Stop Recording\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: closeVideoModal,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"send-video-btn\",\n              onClick: sendVideoMessage,\n              children: \"Send Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: closeVideoModal,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 9\n    }, this), showFileViewer && currentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-viewer-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-viewer-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-viewer-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-viewer-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-viewer-name\",\n              children: currentFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"file-viewer-type\",\n              children: fileViewerType.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-viewer-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadFile,\n              className: \"file-viewer-btn download-btn\",\n              title: \"Download\",\n              children: /*#__PURE__*/_jsxDEV(FiDownload, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeFileViewer,\n              className: \"file-viewer-btn close-btn\",\n              title: \"Close\",\n              children: /*#__PURE__*/_jsxDEV(FiX, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 889,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-viewer-content\",\n          children: [fileViewerType === \"image\" && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentFile.url || \"/placeholder.svg\",\n            alt: currentFile.name,\n            className: \"file-viewer-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 17\n          }, this), fileViewerType === \"video\" && /*#__PURE__*/_jsxDEV(\"video\", {\n            src: currentFile.url,\n            controls: true,\n            className: \"file-viewer-video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 46\n          }, this), fileViewerType === \"audio\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-viewer-audio-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"audio-icon\",\n              children: /*#__PURE__*/_jsxDEV(FiMusic, {\n                size: 64\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n              src: currentFile.url,\n              controls: true,\n              className: \"file-viewer-audio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"audio-filename\",\n              children: currentFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 17\n          }, this), fileViewerType === \"pdf\" && /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: currentFile.url,\n            className: \"file-viewer-pdf\",\n            title: currentFile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 17\n          }, this), fileViewerType === \"text\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-viewer-text-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-file-icon\",\n              children: /*#__PURE__*/_jsxDEV(FiFileText, {\n                size: 64\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Text file preview not available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadFile,\n              className: \"download-text-btn\",\n              children: \"Download to view content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 17\n          }, this), fileViewerType === \"file\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-viewer-generic-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"generic-file-icon\",\n              children: /*#__PURE__*/_jsxDEV(FiFile, {\n                size: 64\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"generic-filename\",\n              children: currentFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"generic-message\",\n              children: \"Preview not available for this file type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadFile,\n              className: \"download-generic-btn\",\n              children: \"Download File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 878,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 877,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 595,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"DsbeFI72X6EZDDNFG8Uoh4rfKhE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useRef","logo","FiVideo","FiMic","FiPlus","FiFile","FiImage","FiFileText","FiMusic","FiX","FiDownload","FiMenu","Sidebar","UserMenu","jsxDEV","_jsxDEV","Fragment","_Fragment","App","messages","setMessages","input","setInput","isTyping","setIsTyping","isRecordingAudio","setIsRecordingAudio","messagesEndRef","audioRef","showVideoModal","setShowVideoModal","recording","setRecording","recordedVideo","setRecordedVideo","videoReadyToSend","setVideoReadyToSend","sessionId","setSessionId","email","localStorage","getItem","hasActiveChat","setHasActiveChat","videoStream","setVideoStream","videoRef","mediaRecorderRef","recordedChunksRef","fileInputRef","uploadedFiles","setUploadedFiles","filesReadyToSend","setFilesReadyToSend","audioRecording","setAudioRecording","videoRecording","setVideoRecording","mediaRecorderAudioRef","audioChunksRef","audioStream","setAudioStream","showFileViewer","setShowFileViewer","currentFile","setCurrentFile","fileViewerType","setFileViewerType","fileDataStore","setFileDataStore","Map","showSidebar","setShowSidebar","createNewSession","title","prompt","res","fetch","method","headers","body","JSON","stringify","data","json","ok","id","setItem","window","refreshSidebar","err","console","error","loadSessionMessages","Error","formattedMessages","map","msg","sender","text","message","timestamp","created_at","startRecording","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","mediaRecorder","MediaRecorder","mimeType","ondataavailable","e","size","push","onstop","blob","Blob","type","videoFile","File","getTracks","forEach","track","stop","start","stopRecording","handleFileUpload","event","files","Array","from","target","length","file","fileUrl","URL","createObjectURL","prev","set","name","url","prevFiles","handlePlusClick","_fileInputRef$current","click","removeFile","index","fileToRemove","fileData","get","revokeObjectURL","newMap","delete","filter","_","i","remainingFiles","sendVideoMessage","sid","isVideo","formData","FormData","append","session_id","audio","audioUrl","pause","currentTime","Audio","play","catch","sendFilesMessage","fileNames","join","handleVideoClick","closeVideoModal","startAudioRecording","audioFile","alert","stopAudioRecording","state","toggleVoiceInput","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","getAllUploadedItems","items","getFileIcon","_file$type","_file$type2","_file$type3","_file$type4","includes","className","fileName","lineNumber","columnNumber","startsWith","getFileName","getFileIconForMessage","match","parseMessageWithAttachments","messageText","attachmentMatch","attachments","textPart","replace","trim","attachmentsPart","split","item","cleanItem","getFileType","handleAttachmentClick","warn","closeFileViewer","downloadFile","link","document","createElement","href","download","appendChild","removeChild","sendMessage","allItems","userInput","videoUrl","messageContent","itemNames","response","errorData","botMessage","lastSession","classList","add","remove","children","onClick","onNewSession","onSelectSession","onSessionDeleted","currentSessionId","src","alt","attachment","ref","value","onChange","onKeyDown","key","placeholder","disabled","width","height","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","multiple","accept","style","display","controls","autoPlay","muted","playsInline","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/eira01-uine-w/frontend/src/App.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport \"./App.css\"\nimport logo from \"./Eira Text2-01.svg\"\nimport { FiVideo, FiMic, FiPlus, FiFile, FiImage, FiFileText, FiMusic, FiX, FiDownload, FiMenu } from \"react-icons/fi\"\nimport Sidebar from \"./components/Sidebar\"\nimport UserMenu from \"./components/UserMenu\"\n\n// Update the App component to properly handle sidebar state\nfunction App() {\n  // Keep all existing state variables\n  const [messages, setMessages] = useState([])\n  const [input, setInput] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const [isRecordingAudio, setIsRecordingAudio] = useState(false)\n  const messagesEndRef = useRef(null)\n  const audioRef = useRef(null)\n  const [showVideoModal, setShowVideoModal] = useState(false)\n  const [recording, setRecording] = useState(false)\n  const [recordedVideo, setRecordedVideo] = useState(null)\n  const [videoReadyToSend, setVideoReadyToSend] = useState(false)\n  const [sessionId, setSessionId] = useState(null)\n  const email = localStorage.getItem(\"userEmail\")\n  const [hasActiveChat, setHasActiveChat] = useState(false)\n  const [videoStream, setVideoStream] = useState(null)\n  const videoRef = useRef(null)\n  const mediaRecorderRef = useRef(null)\n  const recordedChunksRef = useRef([])\n  const fileInputRef = useRef(null)\n  const [uploadedFiles, setUploadedFiles] = useState([])\n  const [filesReadyToSend, setFilesReadyToSend] = useState(false)\n  const [audioRecording, setAudioRecording] = useState(null)\n  const [videoRecording, setVideoRecording] = useState(null)\n  const mediaRecorderAudioRef = useRef(null)\n  const audioChunksRef = useRef([])\n  const [audioStream, setAudioStream] = useState(null)\n  const [showFileViewer, setShowFileViewer] = useState(false)\n  const [currentFile, setCurrentFile] = useState(null)\n  const [fileViewerType, setFileViewerType] = useState(null)\n  const [fileDataStore, setFileDataStore] = useState(new Map())\n  const [showSidebar, setShowSidebar] = useState(false) // New state for sidebar visibility\n\n  const createNewSession = async () => {\n    const title = prompt(\"Title for new session?\") || \"Untitled\"\n    try {\n      const res = await fetch(\"http://localhost:5000/api/sessions/create\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, title }),\n      })\n      const data = await res.json()\n      if (res.ok && data.id) {\n        setSessionId(data.id)\n        setMessages([])\n        setHasActiveChat(true)\n        localStorage.setItem(\"lastSessionId\", data.id)\n\n        // Trigger sidebar refresh by calling a callback if provided\n        if (window.refreshSidebar) {\n          window.refreshSidebar()\n        }\n\n        return data.id\n      }\n    } catch (err) {\n      console.error(\"Session creation failed:\", err)\n    }\n    return null\n  }\n\n  const loadSessionMessages = async (id) => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/chat/history?session_id=${id}`)\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch session messages\")\n      }\n      const data = await res.json()\n\n      // Map the backend response format to frontend format\n      const formattedMessages = data.map((msg) => ({\n        sender: msg.sender,\n        text: msg.message, // Backend returns 'message', frontend expects 'text'\n        timestamp: msg.created_at,\n      }))\n\n      setMessages(formattedMessages)\n      setSessionId(id)\n      setHasActiveChat(true)\n      localStorage.setItem(\"lastSessionId\", id)\n    } catch (err) {\n      console.error(\"Failed to load session messages:\", err)\n      // Set empty messages array to avoid showing previous chat data\n      setMessages([])\n    }\n  }\n\n  const startRecording = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true })\n    setVideoStream(stream)\n    recordedChunksRef.current = []\n\n    if (videoRef.current) {\n      videoRef.current.srcObject = stream\n    }\n\n    const mediaRecorder = new MediaRecorder(stream, { mimeType: \"video/webm\" })\n    mediaRecorderRef.current = mediaRecorder\n\n    mediaRecorder.ondataavailable = (e) => {\n      if (e.data.size > 0) recordedChunksRef.current.push(e.data)\n    }\n\n    mediaRecorder.onstop = () => {\n      const blob = new Blob(recordedChunksRef.current, { type: \"video/webm\" })\n      const videoFile = new File([blob], \"video-recording.webm\", { type: \"video/webm\" })\n\n      setVideoRecording(videoFile)\n      setFilesReadyToSend(true)\n      setShowVideoModal(false)\n      stream.getTracks().forEach((track) => track.stop())\n    }\n\n    mediaRecorder.start()\n    setRecording(true)\n  }\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop()\n      setRecording(false)\n    }\n  }\n\n  const handleFileUpload = (event) => {\n    const files = Array.from(event.target.files)\n    if (files.length > 0) {\n      // Store file data for later viewing\n      files.forEach((file) => {\n        const fileUrl = URL.createObjectURL(file)\n        setFileDataStore((prev) => new Map(prev.set(file.name, { file, url: fileUrl, type: file.type })))\n      })\n\n      setUploadedFiles((prevFiles) => [...prevFiles, ...files])\n      setFilesReadyToSend(true)\n    }\n  }\n\n  const handlePlusClick = () => {\n    fileInputRef.current?.click()\n  }\n\n  const removeFile = (index, type = \"file\") => {\n    if (type === \"audio\") {\n      setAudioRecording(null)\n    } else if (type === \"video\") {\n      setVideoRecording(null)\n    } else {\n      const fileToRemove = uploadedFiles[index]\n      if (fileToRemove) {\n        // Clean up file URL\n        const fileData = fileDataStore.get(fileToRemove.name)\n        if (fileData?.url) {\n          URL.revokeObjectURL(fileData.url)\n        }\n        setFileDataStore((prev) => {\n          const newMap = new Map(prev)\n          newMap.delete(fileToRemove.name)\n          return newMap\n        })\n      }\n      setUploadedFiles((prev) => prev.filter((_, i) => i !== index))\n    }\n\n    // Check if any items remain\n    const remainingFiles = uploadedFiles.filter((_, i) => i !== index)\n    if (remainingFiles.length === 0 && !audioRecording && !videoRecording) {\n      setFilesReadyToSend(false)\n    }\n  }\n\n  const sendVideoMessage = async () => {\n    if (!recordedVideo) return\n    let sid = sessionId\n    if (!sid) {\n      sid = await createNewSession()\n      if (!sid) return\n    }\n\n    setMessages((prev) => [...prev, { sender: \"user\", text: \"[ðŸ“¹ Video sent]\", isVideo: true }])\n    setIsTyping(true)\n    setShowVideoModal(false)\n\n    const formData = new FormData()\n    formData.append(\"video\", recordedVideo.blob, \"recorded-video.webm\")\n\n    try {\n      const res = await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email,\n          session_id: sessionId,\n          message: \"Video message sent\",\n          sender: \"user\",\n        }),\n      })\n\n      const data = await res.json()\n      setIsTyping(false)\n      setMessages((prev) => [...prev, { sender: \"eira\", text: data.text || \"ðŸŽ¥ Video response\" }])\n\n      if (data.audio) {\n        const audioUrl = `data:audio/mpeg;base64,${data.audio}`\n        if (audioRef.current) {\n          audioRef.current.pause()\n          audioRef.current.currentTime = 0\n        }\n        audioRef.current = new Audio(audioUrl)\n        audioRef.current.play().catch(console.error)\n      }\n    } catch (err) {\n      setIsTyping(false)\n      setMessages((prev) => [...prev, { sender: \"eira\", text: \"âš ï¸ Video upload failed\" }])\n    }\n\n    setRecordedVideo(null)\n    setVideoReadyToSend(false)\n  }\n\n  const sendFilesMessage = async () => {\n    if (uploadedFiles.length === 0) return\n    let sid = sessionId\n    if (!sid) {\n      sid = await createNewSession()\n      if (!sid) return\n    }\n\n    const fileNames = uploadedFiles.map((file) => file.name).join(\", \")\n    setMessages((prev) => [...prev, { sender: \"user\", text: `ðŸ“„ Files uploaded: ${fileNames}` }])\n    setIsTyping(true)\n\n    const formData = new FormData()\n    uploadedFiles.forEach((file, index) => {\n      formData.append(`file_${index}`, file)\n    })\n\n    try {\n      const res = await fetch(\"http://localhost:5000/api/chat/upload-files\", {\n        method: \"POST\",\n        body: formData,\n      })\n\n      const data = await res.json()\n      setIsTyping(false)\n      setMessages((prev) => [...prev, { sender: \"eira\", text: data.text || \"ðŸ“„ Files processed successfully\" }])\n\n      // Save message to database\n      await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: `Files uploaded: ${fileNames}`,\n          sender: \"user\",\n        }),\n      })\n    } catch (err) {\n      setIsTyping(false)\n      setMessages((prev) => [...prev, { sender: \"eira\", text: \"âš ï¸ File upload failed\" }])\n    }\n\n    setUploadedFiles([])\n    setFilesReadyToSend(false)\n  }\n\n  const handleVideoClick = () => setShowVideoModal(true)\n  const closeVideoModal = () => {\n    if (videoStream) {\n      videoStream.getTracks().forEach((track) => track.stop())\n    }\n    setShowVideoModal(false)\n  }\n\n  const startAudioRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true })\n      setAudioStream(stream)\n      audioChunksRef.current = []\n\n      const mediaRecorder = new MediaRecorder(stream)\n      mediaRecorderAudioRef.current = mediaRecorder\n\n      mediaRecorder.ondataavailable = (e) => {\n        if (e.data.size > 0) audioChunksRef.current.push(e.data)\n      }\n\n      mediaRecorder.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, { type: \"audio/webm\" })\n        const audioFile = new File([blob], \"voice-recording.webm\", { type: \"audio/webm\" })\n\n        // Store audio recording data\n        const audioUrl = URL.createObjectURL(blob)\n        setFileDataStore(\n          (prev) => new Map(prev.set(\"Voice Recording\", { file: audioFile, url: audioUrl, type: \"audio/webm\" })),\n        )\n\n        setAudioRecording(audioFile)\n        setFilesReadyToSend(true)\n        stream.getTracks().forEach((track) => track.stop())\n        setAudioStream(null)\n      }\n\n      mediaRecorder.start()\n      setIsRecordingAudio(true)\n    } catch (err) {\n      console.error(\"Error starting audio recording:\", err)\n      alert(\"Could not access microphone. Please check your permissions.\")\n    }\n  }\n\n  const stopAudioRecording = () => {\n    if (mediaRecorderAudioRef.current && mediaRecorderAudioRef.current.state === \"recording\") {\n      mediaRecorderAudioRef.current.stop()\n      setIsRecordingAudio(false)\n    }\n  }\n\n  const toggleVoiceInput = () => {\n    if (isRecordingAudio) {\n      stopAudioRecording()\n    } else {\n      startAudioRecording()\n    }\n  }\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages])\n\n  const getAllUploadedItems = () => {\n    const items = [...uploadedFiles]\n    if (audioRecording) items.push(audioRecording)\n    if (videoRecording) items.push(videoRecording)\n    return items\n  }\n\n  const getFileIcon = (file) => {\n    if (file.name.includes(\"voice-recording\")) return <FiMic className=\"file-icon\" />\n    if (file.name.includes(\"video-recording\")) return <FiVideo className=\"file-icon\" />\n    if (file.type?.startsWith(\"image/\")) return <FiImage className=\"file-icon\" />\n    if (file.type?.startsWith(\"audio/\")) return <FiMusic className=\"file-icon\" />\n    if (file.type?.includes(\"pdf\") || file.type?.includes(\"document\")) return <FiFileText className=\"file-icon\" />\n    return <FiFile className=\"file-icon\" />\n  }\n\n  const getFileName = (file) => {\n    if (file.name.includes(\"voice-recording\")) return \"Voice Recording\"\n    if (file.name.includes(\"video-recording\")) return \"Video Recording\"\n    return file.name\n  }\n\n  const getFileIconForMessage = (fileName) => {\n    if (fileName.includes(\"Voice Recording\")) return <FiMic className=\"attachment-icon\" />\n    if (fileName.includes(\"Video Recording\")) return <FiVideo className=\"attachment-icon\" />\n    if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i)) return <FiImage className=\"attachment-icon\" />\n    if (fileName.match(/\\.(mp3|wav|ogg|m4a|webm)$/i)) return <FiMusic className=\"attachment-icon\" />\n    if (fileName.match(/\\.(pdf|doc|docx|txt)$/i)) return <FiFileText className=\"attachment-icon\" />\n    return <FiFile className=\"attachment-icon\" />\n  }\n\n  const parseMessageWithAttachments = (messageText) => {\n    // Check if message contains attachments\n    const attachmentMatch = messageText.match(/Attachments:\\s*(.+)$/s)\n    if (!attachmentMatch) {\n      return { text: messageText, attachments: [] }\n    }\n\n    const textPart = messageText.replace(/\\n\\nAttachments:\\s*(.+)$/s, \"\").trim()\n    const attachmentsPart = attachmentMatch[1]\n\n    // Parse individual attachments\n    const attachments = attachmentsPart.split(\", \").map((item) => {\n      const cleanItem = item.trim().replace(/^[ðŸŽ¤ðŸ“¹ðŸ“„]\\s*/u, \"\")\n      return cleanItem\n    })\n\n    return { text: textPart, attachments }\n  }\n\n  const getFileType = (fileName) => {\n    if (fileName.includes(\"Voice Recording\")) return \"audio\"\n    if (fileName.includes(\"Video Recording\")) return \"video\"\n    if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i)) return \"image\"\n    if (fileName.match(/\\.(mp3|wav|ogg|m4a|webm)$/i)) return \"audio\"\n    if (fileName.match(/\\.(mp4|avi|mov|wmv|flv|webm)$/i)) return \"video\"\n    if (fileName.match(/\\.(pdf)$/i)) return \"pdf\"\n    if (fileName.match(/\\.(txt|md|json|xml|csv)$/i)) return \"text\"\n    return \"file\"\n  }\n\n  const handleAttachmentClick = (fileName) => {\n    const fileData = fileDataStore.get(fileName)\n    if (fileData) {\n      setCurrentFile({ name: fileName, ...fileData })\n      setFileViewerType(getFileType(fileName))\n      setShowFileViewer(true)\n    } else {\n      // If file data not found, try to download or show error\n      console.warn(\"File data not found for:\", fileName)\n      alert(\"File preview not available. The file may have been uploaded in a previous session.\")\n    }\n  }\n\n  const closeFileViewer = () => {\n    setShowFileViewer(false)\n    setCurrentFile(null)\n    setFileViewerType(null)\n  }\n\n  const downloadFile = () => {\n    if (currentFile) {\n      const link = document.createElement(\"a\")\n      link.href = currentFile.url\n      link.download = currentFile.name\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    }\n  }\n\n  const sendMessage = async () => {\n    const allItems = getAllUploadedItems()\n\n    if (!input.trim() && allItems.length === 0) return\n\n    let sid = sessionId\n    if (!sid) {\n      sid = await createNewSession()\n      if (!sid) return\n    }\n\n    setIsTyping(true)\n    const userInput = input\n    setInput(\"\")\n\n    // Store video recording data if exists\n    if (videoRecording) {\n      const videoUrl = URL.createObjectURL(videoRecording)\n      setFileDataStore(\n        (prev) =>\n          new Map(prev.set(\"Video Recording\", { file: videoRecording, url: videoUrl, type: videoRecording.type })),\n      )\n    }\n\n    // Create message content\n    let messageContent = userInput\n    if (allItems.length > 0) {\n      const itemNames = allItems\n        .map((item) => {\n          if (item.name.includes(\"voice-recording\")) return \"Voice Recording\"\n          if (item.name.includes(\"video-recording\")) return \"Video Recording\"\n          return item.name\n        })\n        .join(\", \")\n      messageContent = userInput ? `${userInput}\\n\\nAttachments: ${itemNames}` : `Attachments: ${itemNames}`\n    }\n\n    setMessages((prev) => [...prev, { sender: \"user\", text: messageContent }])\n\n    try {\n      // Handle file uploads if any\n      if (allItems.length > 0) {\n        const formData = new FormData()\n        allItems.forEach((item, index) => {\n          formData.append(`file_${index}`, item)\n        })\n\n        // Send files first\n        await fetch(\"http://localhost:5000/api/chat/upload-files\", {\n          method: \"POST\",\n          body: formData,\n        })\n      }\n\n      // Send text message\n      const response = await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: messageContent,\n          sender: \"user\",\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        throw new Error(errorData.error || \"API request failed\")\n      }\n\n      const data = await response.json()\n\n      const botMessage = {\n        sender: \"eira\",\n        text: data.text || \"ðŸ”Š Response received\",\n      }\n\n      setIsTyping(false)\n      setMessages((prev) => [...prev, botMessage])\n      setHasActiveChat(true)\n\n      // Save bot response\n      await fetch(\"http://localhost:5000/api/chat/add\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email,\n          session_id: sid,\n          message: botMessage.text,\n          sender: \"eira\",\n        }),\n      })\n\n      if (data.audio) {\n        const audioUrl = `data:audio/mpeg;base64,${data.audio}`\n        if (audioRef.current) {\n          audioRef.current.pause()\n          audioRef.current.currentTime = 0\n        }\n        audioRef.current = new Audio(audioUrl)\n        audioRef.current.play().catch((error) => {\n          console.error(\"Audio playback failed:\", error)\n        })\n      }\n    } catch (error) {\n      console.error(\"Error:\", error)\n      setIsTyping(false)\n      setMessages((prev) => [...prev, { sender: \"eira\", text: \"âš ï¸ Error: \" + error.message }])\n    }\n\n    // Clear all uploaded items\n    setUploadedFiles([])\n    setAudioRecording(null)\n    setVideoRecording(null)\n    setFilesReadyToSend(false)\n    setVideoReadyToSend(false)\n  }\n\n  useEffect(() => {\n    const lastSession = localStorage.getItem(\"lastSessionId\")\n    if (lastSession && email) {\n      loadSessionMessages(lastSession)\n    }\n  }, [email])\n\n  // Cleanup audio stream on component unmount\n  useEffect(() => {\n    return () => {\n      if (audioStream) {\n        audioStream.getTracks().forEach((track) => track.stop())\n      }\n      // Cleanup file URLs\n      fileDataStore.forEach((fileData) => {\n        if (fileData.url) {\n          URL.revokeObjectURL(fileData.url)\n        }\n      })\n    }\n  }, [audioStream])\n\n  // Add this useEffect after the existing useEffects, around line 200\n  useEffect(() => {\n    // Add or remove class to body based on sidebar state\n    if (showSidebar) {\n      document.body.classList.add(\"sidebar-open\")\n    } else {\n      document.body.classList.remove(\"sidebar-open\")\n    }\n\n    // Cleanup on unmount\n    return () => {\n      document.body.classList.remove(\"sidebar-open\")\n    }\n  }, [showSidebar])\n\n  // Update the return statement to include the new header layout\n  return (\n    <div className={`app-layout ${showSidebar ? \"sidebar-is-open\" : \"\"}`}>\n      {/* Header with sidebar toggle and user menu */}\n      <div className=\"app-header\">\n        <button className=\"sidebar-toggle-btn\" onClick={() => setShowSidebar(!showSidebar)}>\n          <FiMenu size={20} />\n        </button>\n        <UserMenu />\n      </div>\n\n      {/* Sidebar */}\n      <Sidebar\n        onNewSession={createNewSession}\n        onSelectSession={loadSessionMessages}\n        className={showSidebar ? \"open\" : \"collapsed\"}\n        onSessionDeleted={() => {\n          // Clear current chat if the deleted session was active\n          const currentSessionId = localStorage.getItem(\"lastSessionId\")\n          if (!currentSessionId) {\n            setMessages([])\n            setHasActiveChat(false)\n            setSessionId(null)\n          }\n        }}\n      />\n\n      <div className={`app-container ${!showSidebar ? \"sidebar-collapsed\" : \"\"}`}>\n        <div className=\"chat-container\">\n          {/* Rest of your chat container content */}\n          {!hasActiveChat || messages.length === 0 ? (\n            <div className=\"welcome-container\">\n              <div className=\"welcome-message\">\n                <div className=\"logo-container\">\n                  <img src={logo || \"/placeholder.svg\"} alt=\"Eira Logo\" className=\"welcome-logo\" />\n                </div>\n                <p className=\"subtitle\">Eira - Your AI Health Assistant</p>\n\n                <div className=\"capabilities\">\n                  <div className=\"capability\">\n                    <div className=\"capability-icon\">ðŸ¥</div>\n                    <div className=\"capability-title\">Medical Assistance</div>\n                    <div className=\"capability-desc\">Get reliable medical information and health guidance</div>\n                  </div>\n\n                  <div className=\"capability\">\n                    <div className=\"capability-icon\">ðŸ’Š</div>\n                    <div className=\"capability-title\">Medication Info</div>\n                    <div className=\"capability-desc\">Learn about medications, dosages, and potential interactions</div>\n                  </div>\n\n                  <div className=\"capability\">\n                    <div className=\"capability-icon\">ðŸ§¬</div>\n                    <div className=\"capability-title\">Health Analysis</div>\n                    <div className=\"capability-desc\">Understand symptoms and get preliminary health insights</div>\n                  </div>\n\n                  <div className=\"capability\">\n                    <div className=\"capability-icon\">â¤ï¸</div>\n                    <div className=\"capability-title\">Wellness Tips</div>\n                    <div className=\"capability-desc\">Receive personalized wellness and lifestyle recommendations</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"messages-flow\">\n              {messages.map((msg, i) => {\n                const { text, attachments } = parseMessageWithAttachments(msg.text)\n\n                return (\n                  <div key={i} className={`message-wrapper ${msg.sender}`}>\n                    <div className=\"message-container\">\n                      {msg.sender === \"eira\" ? (\n                        <div className=\"message-avatar eira\">\n                          <img src=\"health.png\" alt=\"Eira\" className=\"avatar-logo\" />\n                        </div>\n                      ) : (\n                        <div className=\"message-avatar user\">U</div>\n                      )}\n                      <div className=\"message-content\">\n                        <div className={`message-sender ${msg.sender}`}>\n                          {msg.sender === \"user\" ? \"You\" : \"Eira 0.1\"}\n                        </div>\n\n                        {/* Main message text */}\n                        {text && <div className={`message ${msg.sender}`}>{text}</div>}\n\n                        {/* Attachments display */}\n                        {attachments.length > 0 && (\n                          <div className=\"message-attachments\">\n                            {attachments.map((attachment, index) => (\n                              <div\n                                key={index}\n                                className=\"attachment-item\"\n                                onClick={() => handleAttachmentClick(attachment)}\n                              >\n                                {getFileIconForMessage(attachment)}\n                                <span className=\"attachment-name\">{attachment}</span>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n\n              {isTyping && (\n                <div className=\"message-wrapper eira\">\n                  <div className=\"message-container\">\n                    <div className=\"message-avatar eira\">\n                      <img src=\"health.png\" alt=\"Eira\" className=\"avatar-logo\" />\n                    </div>\n                    <div className=\"message-content\">\n                      <div className=\"message-sender eira\">Eira 0.1</div>\n                      <div className=\"message eira typing\">\n                        <div className=\"typing-indicator\">\n                          <span></span>\n                          <span></span>\n                          <span></span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n          )}\n        </div>\n\n        {/* Update the gemini-input-container class */}\n        <div className={`gemini-input-container`}>\n          <div className={`input-wrapper-gemini ${getAllUploadedItems().length > 0 ? \"has-files\" : \"\"}`}>\n            {/* File Chips Section */}\n            {getAllUploadedItems().length > 0 && (\n              <div className=\"file-chips-container\">\n                {uploadedFiles.map((file, index) => (\n                  <div key={`file-${index}`} className=\"file-chip-inline\">\n                    {getFileIcon(file)}\n                    <span className=\"file-name-inline\">{getFileName(file)}</span>\n                    <button className=\"remove-file-btn-inline\" onClick={() => removeFile(index, \"file\")}>\n                      Ã—\n                    </button>\n                  </div>\n                ))}\n\n                {audioRecording && (\n                  <div className=\"file-chip-inline\">\n                    <FiMic className=\"file-icon\" />\n                    <span className=\"file-name-inline\">Voice Recording</span>\n                    <button className=\"remove-file-btn-inline\" onClick={() => removeFile(0, \"audio\")}>\n                      Ã—\n                    </button>\n                  </div>\n                )}\n\n                {videoRecording && (\n                  <div className=\"file-chip-inline\">\n                    <FiVideo className=\"file-icon\" />\n                    <span className=\"file-name-inline\">Video Recording</span>\n                    <button className=\"remove-file-btn-inline\" onClick={() => removeFile(0, \"video\")}>\n                      Ã—\n                    </button>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Input Row */}\n            <div className=\"input-row\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\n                placeholder=\"Start typing a prompt\"\n                className=\"message-input-gemini\"\n              />\n              <div className=\"input-actions\">\n                <button onClick={handlePlusClick} className=\"action-button plus-button\" title=\"Upload files\">\n                  <FiPlus size={20} />\n                </button>\n                <button\n                  onClick={sendMessage}\n                  className=\"send-button-gemini\"\n                  disabled={!input.trim() && getAllUploadedItems().length === 0}\n                  title=\"Send message\"\n                >\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path\n                      d=\"M22 2L11 13\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                    <path\n                      d=\"M22 2L15 22L11 13L2 9L22 2Z\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Bottom Action Buttons */}\n          <div className=\"bottom-actions\">\n            <button\n              onClick={toggleVoiceInput}\n              className={`action-button-large ${isRecordingAudio ? \"listening\" : \"\"}`}\n              title={isRecordingAudio ? \"Stop Recording\" : \"Start Voice Recording\"}\n            >\n              <FiMic size={20} />\n              <span>{isRecordingAudio ? \"Stop Recording\" : \"Talk\"}</span>\n            </button>\n\n            <button onClick={handleVideoClick} className=\"action-button-large\" title=\"Webcam\">\n              <FiVideo size={20} />\n              <span>Webcam</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Hidden File Input */}\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        onChange={handleFileUpload}\n        multiple\n        accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.mp4,.mp3,.wav\"\n        style={{ display: \"none\" }}\n      />\n\n      {/* Video Modal */}\n      {showVideoModal && (\n        <div className=\"video-overlay\">\n          <div className=\"video-modal\">\n            {recordedVideo ? (\n              <video className=\"recorded-playback\" src={recordedVideo.url} controls />\n            ) : (\n              <video ref={videoRef} className=\"video-preview\" autoPlay muted playsInline />\n            )}\n\n            <div className=\"controls\">\n              {!recordedVideo ? (\n                <>\n                  {!recording ? (\n                    <button className=\"record-btn\" onClick={startRecording}>\n                      Start Recording\n                    </button>\n                  ) : (\n                    <button className=\"record-btn recording\" onClick={stopRecording}>\n                      Stop Recording\n                    </button>\n                  )}\n                  <button className=\"close-btn\" onClick={closeVideoModal}>\n                    Close\n                  </button>\n                </>\n              ) : (\n                <>\n                  <button className=\"send-video-btn\" onClick={sendVideoMessage}>\n                    Send Video\n                  </button>\n                  <button className=\"close-btn\" onClick={closeVideoModal}>\n                    Close\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* File Viewer Modal */}\n      {showFileViewer && currentFile && (\n        <div className=\"file-viewer-overlay\">\n          <div className=\"file-viewer-modal\">\n            <div className=\"file-viewer-header\">\n              <div className=\"file-viewer-title\">\n                <span className=\"file-viewer-name\">{currentFile.name}</span>\n                <span className=\"file-viewer-type\">{fileViewerType.toUpperCase()}</span>\n              </div>\n              <div className=\"file-viewer-actions\">\n                <button onClick={downloadFile} className=\"file-viewer-btn download-btn\" title=\"Download\">\n                  <FiDownload size={18} />\n                </button>\n                <button onClick={closeFileViewer} className=\"file-viewer-btn close-btn\" title=\"Close\">\n                  <FiX size={18} />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"file-viewer-content\">\n              {fileViewerType === \"image\" && (\n                <img src={currentFile.url || \"/placeholder.svg\"} alt={currentFile.name} className=\"file-viewer-image\" />\n              )}\n\n              {fileViewerType === \"video\" && <video src={currentFile.url} controls className=\"file-viewer-video\" />}\n\n              {fileViewerType === \"audio\" && (\n                <div className=\"file-viewer-audio-container\">\n                  <div className=\"audio-icon\">\n                    <FiMusic size={64} />\n                  </div>\n                  <audio src={currentFile.url} controls className=\"file-viewer-audio\" />\n                  <p className=\"audio-filename\">{currentFile.name}</p>\n                </div>\n              )}\n\n              {fileViewerType === \"pdf\" && (\n                <iframe src={currentFile.url} className=\"file-viewer-pdf\" title={currentFile.name} />\n              )}\n\n              {fileViewerType === \"text\" && (\n                <div className=\"file-viewer-text-container\">\n                  <div className=\"text-file-icon\">\n                    <FiFileText size={64} />\n                  </div>\n                  <p>Text file preview not available</p>\n                  <button onClick={downloadFile} className=\"download-text-btn\">\n                    Download to view content\n                  </button>\n                </div>\n              )}\n\n              {fileViewerType === \"file\" && (\n                <div className=\"file-viewer-generic-container\">\n                  <div className=\"generic-file-icon\">\n                    <FiFile size={64} />\n                  </div>\n                  <p className=\"generic-filename\">{currentFile.name}</p>\n                  <p className=\"generic-message\">Preview not available for this file type</p>\n                  <button onClick={downloadFile} className=\"download-generic-btn\">\n                    Download File\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}